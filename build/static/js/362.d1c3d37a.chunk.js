"use strict";(self.webpackChunknutrea_genie=self.webpackChunknutrea_genie||[]).push([[362],{3908:(e,a,s)=>{s.d(a,{a:()=>r});var t=s(5043);const n=768;function r(){const[e,a]=t.useState(void 0);return t.useEffect((()=>{const e=window.matchMedia("(max-width: ".concat(n-1,"px)")),s=()=>{a(window.innerWidth<n)};return e.addEventListener("change",s),a(window.innerWidth<n),()=>e.removeEventListener("change",s)}),[]),Boolean(e)}},1993:(e,a,s)=>{s.d(a,{N:()=>t});const t=(0,s(95).UU)("https://gfzdxckeajqmjeshysyo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdmemR4Y2tlYWpxbWplc2h5c3lvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYxNzkxMjEsImV4cCI6MjA1MTc1NTEyMX0.-h3fOQD95qIsVqcI6Of-erA48tlwOL7cycg1D3STVyk")},6764:(e,a,s)=>{s.d(a,{p:()=>o});var t=s(9379),n=s(3986),r=s(5043);const l="input_input__haKzV";var i=s(579);const c=["className","type"],o=r.forwardRef(((e,a)=>{const{className:s,type:r}=e,o=(0,n.A)(e,c);return(0,i.jsx)("input",(0,t.A)({type:r,className:"".concat(l," ").concat(s||""),ref:a},o))}));o.displayName="Input"},8837:(e,a,s)=>{s.d(a,{J:()=>d});var t=s(9379),n=s(3986),r=s(5043),l=s(2367);const i="label_label__JZ87o";var c=s(579);const o=["className"],d=r.forwardRef(((e,a)=>{const{className:s}=e,r=(0,n.A)(e,o);return(0,c.jsx)(l.b,(0,t.A)({ref:a,className:"".concat(i," ").concat(s||"")},r))}));d.displayName=l.b.displayName},7570:(e,a,s)=>{s.d(a,{z:()=>u,C:()=>g});var t=s(9379),n=s(3986),r=s(5043),l=s(9272),i=s(1049);const c="radio-group_radioGroup__bnLoj",o="radio-group_radioGroupItem__cLIsq",d="radio-group_radioGroupIndicator__6NpkX",_="radio-group_circle__4+BC7";var m=s(579);const h=["className"],p=["className"],u=r.forwardRef(((e,a)=>{const{className:s}=e,r=(0,n.A)(e,h);return(0,m.jsx)(l.bL,(0,t.A)((0,t.A)({className:"".concat(c," ").concat(s||"")},r),{},{ref:a}))}));u.displayName=l.bL.displayName;const g=r.forwardRef(((e,a)=>{const{className:s}=e,r=(0,n.A)(e,p);return(0,m.jsx)(l.q7,(0,t.A)((0,t.A)({ref:a,className:"".concat(o," ").concat(s||"")},r),{},{children:(0,m.jsx)(l.C1,{className:d,children:(0,m.jsx)(i.A,{className:_})})}))}));g.displayName=l.q7.displayName},5561:(e,a,s)=>{s.d(a,{tU:()=>p,av:()=>x,j7:()=>u,Xi:()=>g});var t=s(9379),n=s(3986),r=s(5043),l=s(7127);const i="tabs_tabsList__xgVbz",c="tabs_tabsTrigger__IpCU3",o="tabs_tabsContent__03STK";var d=s(579);const _=["className"],m=["className"],h=["className"],p=l.bL,u=r.forwardRef(((e,a)=>{let{className:s=""}=e,r=(0,n.A)(e,_);return(0,d.jsx)(l.B8,(0,t.A)({ref:a,className:"".concat(i," ").concat(s).trim()},r))}));u.displayName=l.B8.displayName;const g=r.forwardRef(((e,a)=>{let{className:s=""}=e,r=(0,n.A)(e,m);return(0,d.jsx)(l.l9,(0,t.A)({ref:a,className:"".concat(c," ").concat(s).trim()},r))}));g.displayName=l.l9.displayName;const x=r.forwardRef(((e,a)=>{let{className:s=""}=e,r=(0,n.A)(e,h);return(0,d.jsx)(l.UC,(0,t.A)({ref:a,className:"".concat(o," ").concat(s).trim()},r))}));x.displayName=l.UC.displayName},5110:(e,a,s)=>{s.d(a,{T:()=>c});var t=s(9379),n=s(3986),r=s(5043);var l=s(579);const i=["className"],c=r.forwardRef(((e,a)=>{const{className:s}=e,r=(0,n.A)(e,i);return(0,l.jsx)("textarea",(0,t.A)({ref:a,className:"textarea ".concat(s)},r))}));c.displayName="Textarea"},3488:(e,a,s)=>{s.d(a,{A:()=>t});const t=" https://3-104-203-150.nip.io"},8362:(e,a,s)=>{s.r(a),s.d(a,{default:()=>qn});var t=s(5043),n=s(9722),r=s(8499),l=s(8438),i=s(3216),c=s(3403),o=s(9379),d=s(3986),_=s(8100);const m="scroll-area_root__8NzFi",h="scroll-area_viewport__hIDsm",p="scroll-area_scrollbar__dWTwN",u="scroll-area_scrollbarVertical__IUU2v",g="scroll-area_scrollbarHorizontal__LvUXq",x="scroll-area_thumb__-+gUG";var j=s(579);const v=["className","children"],N=["className","orientation"],f=t.forwardRef(((e,a)=>{let{className:s,children:t}=e,n=(0,d.A)(e,v);return(0,j.jsxs)(_.bL,(0,o.A)((0,o.A)({ref:a,className:"".concat(m," ").concat(s||"")},n),{},{children:[(0,j.jsx)(_.LM,{className:h,children:t}),(0,j.jsx)(y,{}),(0,j.jsx)(_.OK,{})]}))}));f.displayName=_.bL.displayName;const y=t.forwardRef(((e,a)=>{let{className:s,orientation:t="vertical"}=e,n=(0,d.A)(e,N);return(0,j.jsx)(_.VM,(0,o.A)((0,o.A)({ref:a,orientation:t,className:"".concat(p," ").concat((e=>"vertical"===e?u:g)(t)," ").concat(s||"")},n),{},{children:(0,j.jsx)(_.lr,{className:x})}))}));y.displayName=_.VM.displayName;var b=s(2630);const S="avatar_avatarRoot__ODrkP",A="avatar_avatarImage__c0jdN",w="avatar_avatarFallback__KsP+x",C=["className"],k=["className"],I=["className"],P=t.forwardRef(((e,a)=>{let{className:s}=e,t=(0,d.A)(e,C);return(0,j.jsx)(b.bL,(0,o.A)({ref:a,className:"".concat(S," ").concat(s||"")},t))}));P.displayName=b.bL.displayName;const T=t.forwardRef(((e,a)=>{let{className:s}=e,t=(0,d.A)(e,k);return(0,j.jsx)(b._V,(0,o.A)({ref:a,className:"".concat(A," ").concat(s||"")},t))}));T.displayName=b._V.displayName;const H=t.forwardRef(((e,a)=>{let{className:s}=e,t=(0,d.A)(e,I);return(0,j.jsx)(b.H4,(0,o.A)({ref:a,className:"".concat(w," ").concat(s||"")},t))}));H.displayName=b.H4.displayName;var L=s(1535);const G="ChatMessage_chatMessage__DQwJH",D="ChatMessage_userMessage__wHaCB",B="ChatMessage_assistantMessage__mFqTm",E="ChatMessage_messageContainer__H9Gw-",M="ChatMessage_userContainer__W0RnE",R="ChatMessage_assistantContainer__EiOoT",F="ChatMessage_avatar__pjGc0",z="ChatMessage_messageContent__05LeC",X="ChatMessage_userContent__D4Jvi",J="ChatMessage_assistantContent__1q6cJ",O="ChatMessage_introMessage__V2u+C",U="ChatMessage_prose__egINC",W="ChatMessage_listItem__nST5H",q="ChatMessage_paragraph__k0vr8",Y="ChatMessage_emptyParagraph__6+cRr",V="ChatMessage_timestampContainer__IgMCH",Z="ChatMessage_timestamp__1y5aX",Q="ChatMessage_link__BhyEK",$=e=>{let{role:a,content:s,timestamp:t}=e;const n=e=>{let a=e.replace(/\[(.*?)\]\((.*?)\)/g,((e,a,s)=>'<a href="'.concat(s,'" target="_blank" rel="noopener noreferrer" class="').concat(Q,'">').concat(a.trim(),"</a>")));return a=a.replace(/(https?:\/\/[^\s]+)/g,(e=>e.includes("</a>")?e:'<a href="'.concat(e,'" target="_blank" rel="noopener noreferrer" class="').concat(Q,'">').concat(e,"</a>"))),a};return(0,j.jsx)("div",{className:"".concat(G," ").concat("human"===a?D:B),children:(0,j.jsxs)("div",{className:"".concat(E," ").concat("human"===a?M:R),children:[(0,j.jsx)(P,{className:F,children:"human"===a?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(T,{src:"/placeholder.svg"}),(0,j.jsx)(H,{children:"U"})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(T,{src:"/lovable-uploads/1.png"}),(0,j.jsx)(H,{children:"AI"})]})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"".concat(z," ").concat("human"===a?X:J," ").concat("Hi! I'm your personal health assistant. How can I help!"===s?O:""),children:(0,j.jsx)("div",{className:U,children:(r=s,r.split("\n").map(((e,a)=>{const s=(e=>e.replace(/#{1,6}\s/g,"").replace(/\*\*/g,"").replace(/\*/g,"").replace(/`/g,"").replace(/\[\d+(?:,\s*\d+)*\]/g,"").trim())(e);return s.startsWith("\u2022")||s.startsWith("-")?(0,j.jsx)("li",{className:W,dangerouslySetInnerHTML:{__html:n(s.substring(1).trim())}},a):(0,j.jsx)("p",{className:s?q:Y,dangerouslySetInnerHTML:{__html:n(s)}},a)})))})}),(0,j.jsx)("div",{className:V,children:(0,j.jsx)("span",{className:Z,children:(0,L.GP)(new Date(t),"h:mm a")})})]})]})});var r};var K=s(6764),ee=s(2875);const ae="ChatInput_form__4WBej",se="ChatInput_inputContainer__vIRVh",te="ChatInput_input__Yh0NQ",ne="ChatInput_submitButton__7xkGS",re="ChatInput_activeSubmitButton__c-L9R",le="ChatInput_inactiveSubmitButton__V32db",ie="ChatInput_sendIcon__tEkXK",ce=e=>{let{onSendMessage:a,onFileUpload:s,isLoading:n}=e;const[l,i]=(0,t.useState)(""),c=(0,t.useRef)(null);return(0,j.jsx)("form",{onSubmit:e=>{e.preventDefault(),l.trim()&&!n&&(a(l.trim()),i(""))},className:ae,children:(0,j.jsxs)("div",{className:se,children:[(0,j.jsx)("input",{type:"file",ref:c,onChange:e=>{const a=e.target.files[0];a&&s&&s(a),e.target.value=""},style:{display:"none"}}),(0,j.jsx)(K.p,{type:"text",placeholder:"Ask anything",value:l,onChange:e=>i(e.target.value),className:te}),(0,j.jsx)(r.$,{type:"submit",disabled:!l.trim()||n,className:(()=>{const e=[ne];return l.trim()&&!n?e.push(re):e.push(le),e.join(" ")})(),children:(0,j.jsx)(ee.A,{className:ie})})]})})};var oe=s(2399),de=s(3488),_e=s(4389);var me=s(8803),he=s(4583),pe=s(8729);const ue={container:"HealthAssistant_container__usqtW",backgroundAnimation:"HealthAssistant_backgroundAnimation__IgmmK",backgroundOverlay:"HealthAssistant_backgroundOverlay__uIyDi",backgroundGradient:"HealthAssistant_backgroundGradient__mbOPw",animationOne:"HealthAssistant_animationOne__9dI9W",animationTwo:"HealthAssistant_animationTwo__tH9gH",animationThree:"HealthAssistant_animationThree__d0KAg",pulse:"HealthAssistant_pulse__xRrv1",card:"HealthAssistant_card__eg-rF",fadeIn:"HealthAssistant_fadeIn__ZefFt",header:"HealthAssistant_header__aygtH",headerContent:"HealthAssistant_headerContent__FvVBg",headerIconContainer:"HealthAssistant_headerIconContainer__dm58+",headerIcon:"HealthAssistant_headerIcon__StR4L",sproutIcon:"HealthAssistant_sproutIcon__JSdUL",headerTitle:"HealthAssistant_headerTitle__F45kY",title:"HealthAssistant_title__VJtc0",clearButton:"HealthAssistant_clearButton__xjTJq",trashIcon:"HealthAssistant_trashIcon__QzGAR",quickRepliesGrid:"HealthAssistant_quickRepliesGrid__G274S",quickReplyCard:"HealthAssistant_quickReplyCard__cVjo9",quickReplyCardBackground:"HealthAssistant_quickReplyCardBackground__rNpzg",quickReplyTitle:"HealthAssistant_quickReplyTitle__S8fFv",quickReplyDescription:"HealthAssistant_quickReplyDescription__FzNYs",scrollArea:"HealthAssistant_scrollArea__6MkWY",chatMessages:"HealthAssistant_chatMessages__UeCU0",typingIndicator:"HealthAssistant_typingIndicator__PNS2+",loaderIcon:"HealthAssistant_loaderIcon__I6Hzb",spin:"HealthAssistant_spin__gCoSE",chatInputContainer:"HealthAssistant_chatInputContainer__OIdiQ",chatInputWrapper:"HealthAssistant_chatInputWrapper__11N30"},ge=[{role:"ai",content:"Hi! I'm your personal health assistant. How can I help!",timestamp:(new Date).toISOString()}],xe=()=>{const{chatHistory:e,isLoading:a,chatError:s,chatLoading:l,isTyping:o,handleSendMessage:d,clearHistory:_,setChatHistory:m}=(()=>{const e=(0,i.Zp)(),{toast:a}=(0,oe.d)(),[s,r]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[o,d]=(0,t.useState)(!1),[_,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)([{role:"ai",content:"Hi! I'm your personal health assistant. How can I help!",timestamp:(new Date).toISOString()}]);return(0,t.useEffect)((()=>{(async()=>{let s=localStorage.getItem("accessToken");try{c(!0);const e=await n.A.get("".concat(de.A,"/api/v1/assistant/chat-history/"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});e.data.chat_history&&e.data.chat_history&&Array.isArray(e.data.chat_history)&&(p(e.data.chat_history),c(!1),d(!1))}catch(l){var t,r;if("token_not_valid"===(null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.code)){const t=localStorage.getItem("refreshToken");if(t){const r=await(0,_e.refreshToken)(t);if(r.access){localStorage.setItem("accessToken",r.access),s=r.access,c(!0);const e=await n.A.get("".concat(de.A,"/api/v1/assistant/chat-history/"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});e.data.chat_history&&e.data.chat_history&&Array.isArray(e.data.chat_history)&&(p(e.data.chat_history),c(!1),d(!1))}else a({title:"Error",description:"Failed to refresh access token.",variant:"destructive"}),localStorage.clear(),e("/login")}}else console.error("Failed to fetch chat history:",l),d(!0),c(!1)}})()}),[a]),{chatHistory:h,setChatHistory:p,isLoading:s,chatError:o,chatLoading:l,isTyping:_,handleSendMessage:async a=>{if(!a.trim())return;r(!0);const s={role:"human",content:a,timestamp:(new Date).toISOString()};p((e=>[...e,s]));try{m(!0);let s=localStorage.getItem("accessToken");const r=async e=>await n.A.post("".concat(de.A,"/api/v1/assistant/chat/"),{user_query:a},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});let c;try{c=await r(s)}catch(i){var t,l;if("token_not_valid"!==(null===(t=i.response)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.code))throw i;{const a=localStorage.getItem("refreshToken");if(a){const t=await(0,_e.refreshToken)(a);t.access?(localStorage.setItem("accessToken",t.access),s=t.access,c=await r(s)):(localStorage.clear(),e("/login"))}else localStorage.clear(),e("/login")}}const o={role:"ai",content:(e=>{let a=e;return a=a.replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\"/g,'"').replace(/\\'/g,"'"),a=a.replace(/\\/g,""),a})(c.data.response||"Sorry, no response was returned."),timestamp:(new Date).toISOString()};p((e=>[...e,o]))}catch(i){const e={role:"ai",content:"I apologize, but I'm having trouble accessing the information right now. Please try asking your question again in a moment.",timestamp:(new Date).toISOString()};p((a=>[...a,e]))}finally{m(!1),r(!1)}},clearHistory:async()=>{let a=localStorage.getItem("accessToken");try{await n.A.delete("".concat(de.A,"/api/v1/assistant/clear-chat-history/"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}catch(r){var s,t;if("token_not_valid"!==(null===(s=r.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.code))throw r;{const s=localStorage.getItem("refreshToken");if(s){const t=await(0,_e.refreshToken)(s);t.access?(localStorage.setItem("accessToken",t.access),a=t.access,await n.A.delete("".concat(de.A,"/api/v1/assistant/clear-chat-history/"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})):(localStorage.clear(),e("/login"))}else localStorage.clear(),e("/login")}}p([{role:"ai",content:"Hi! I'm your personal health assistant. How can I help!",timestamp:(new Date).toISOString()}])}}})(),h=(0,t.useRef)(null),p=(0,t.useRef)(null),{toast:u}=(0,oe.d)(),{user:g}=(0,pe.A)(),[x,v]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{if(null!==g&&void 0!==g&&g.token)try{const e=await fetch("".concat(de.A,"/api/v1/users/profile/"),{headers:{Authorization:"Bearer ".concat(g.token)}});if(!e.ok)throw new Error("Failed to fetch profile");const a=await e.json();v(a.first_name)}catch(e){console.error("Failed to fetch user profile:",e)}else console.warn("No authentication token available")})()}),[null===g||void 0===g?void 0:g.token]),(0,t.useEffect)((()=>{e.length<=0&&m([{role:"ai",content:"Hi! I'm your personal health assistant. How can I help!",timestamp:(new Date).toISOString()}])}),[e]),(0,t.useEffect)((()=>{p.current&&p.current.scrollIntoView({behavior:"smooth",block:"end"})}),[e,o]);return(0,j.jsxs)("div",{className:ue.container,children:[(0,j.jsx)("div",{className:ue.backgroundAnimation,children:(0,j.jsxs)("div",{className:ue.backgroundOverlay,children:[(0,j.jsx)("div",{className:"".concat(ue.backgroundGradient," ").concat(ue.animationOne)}),(0,j.jsx)("div",{className:"".concat(ue.backgroundGradient," ").concat(ue.animationTwo)}),(0,j.jsx)("div",{className:"".concat(ue.backgroundGradient," ").concat(ue.animationThree)})]})}),(0,j.jsxs)(c.Zp,{className:ue.card,children:[(0,j.jsx)("div",{className:ue.header,children:(0,j.jsxs)("div",{className:ue.headerContent,children:[(0,j.jsx)("div",{className:ue.headerTitle,children:(0,j.jsx)("h2",{className:ue.title,children:x?"Welcome ".concat(x," to Your Health Journey"):"Welcome to Your Health Journey"})}),(0,j.jsx)(r.$,{variant:"ghost",size:"sm",onClick:async()=>{try{await _(),u({description:"History cleared"})}catch(e){u({title:"Unable to clear the history",variant:"destructive"})}},className:ue.clearButton,children:(0,j.jsx)(me.A,{className:ue.trashIcon})})]})}),(0,j.jsx)(f,{className:ue.scrollArea,ref:h,children:(0,j.jsx)("div",{className:ue.chatMessages,children:l?(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)(he.A,{className:"animate-spin loader "}),(0,j.jsx)("p",{className:"info-text",children:"Your AI assistant is almost ready to chat."})]}):(0,j.jsxs)("section",{children:[ge.map(((a,s)=>{const t=s===e.length-1&&!o;return(0,j.jsx)("div",{ref:t?p:null,children:(0,j.jsx)($,{role:a.role,content:a.content,timestamp:a.timestamp||(new Date).toISOString()})},s)})),e.map(((a,s)=>{if(0===s)return;const t=s===e.length-1&&!o;return(0,j.jsx)("div",{ref:t?p:null,children:(0,j.jsx)($,{role:a.role,content:a.content,timestamp:a.timestamp||(new Date).toISOString()})},s)})),o&&(0,j.jsxs)("div",{ref:p,className:ue.typingIndicator,children:[(0,j.jsx)(he.A,{className:ue.loaderIcon}),(0,j.jsx)("span",{className:ue.typingText,children:(0,j.jsx)(he.A,{className:"animate-spin loader"})})]})]})})}),(0,j.jsx)("div",{className:ue.chatInputContainer,children:(0,j.jsx)("div",{className:ue.chatInputWrapper,children:(0,j.jsx)(ce,{onSendMessage:d,isLoading:a})})})]})]})},je="PersonalInfoSection_container__R3TRu",ve="PersonalInfoSection_title__B-kvE",Ne="PersonalInfoSection_fieldContainer__1r3B-",fe="PersonalInfoSection_field__5GuuR",ye="PersonalInfoSection_label__CVYY8",be="PersonalInfoSection_value__GXFle",Se="PersonalInfoSection_input__YpZiz",Ae="PersonalInfoSection_select__eKcjF",we=e=>{let{isEditing:a,personalInfo:s,setPersonalInfo:t}=e;return(0,j.jsxs)("div",{className:je,children:[(0,j.jsx)("h3",{className:ve,children:"Personal Information"}),(0,j.jsxs)("div",{className:Ne,children:[(0,j.jsxs)("div",{className:fe,children:[(0,j.jsx)("label",{className:ye,children:"Age"}),a?(0,j.jsx)(K.p,{value:s.age,onChange:e=>t((0,o.A)((0,o.A)({},s),{},{age:e.target.value})),className:Se}):(0,j.jsxs)("p",{className:be,children:[s.age," years"]})]}),(0,j.jsxs)("div",{className:fe,children:[(0,j.jsx)("label",{className:ye,children:"Gender"}),a?(0,j.jsxs)("select",{value:s.gender,onChange:e=>{t((0,o.A)((0,o.A)({},s),{},{gender:e.target.value}))},className:Ae,children:[(0,j.jsx)("option",{value:"",children:"Select gender"}),(0,j.jsx)("option",{value:"male",children:"Male"}),(0,j.jsx)("option",{value:"female",children:"Female"}),(0,j.jsx)("option",{value:"other",children:"Other"})]}):(0,j.jsx)("p",{className:be,children:s.gender.charAt(0).toUpperCase()+s.gender.slice(1)})]}),(0,j.jsxs)("div",{className:fe,children:[(0,j.jsx)("label",{className:ye,children:"Height (feet' inches'')"}),a?(0,j.jsx)(K.p,{value:s.height,onChange:e=>t((0,o.A)((0,o.A)({},s),{},{height:e.target.value})),className:Se}):(0,j.jsx)("p",{className:be,children:s.height})]}),(0,j.jsxs)("div",{className:fe,children:[(0,j.jsx)("label",{className:ye,children:"Weight (lbs)"}),a?(0,j.jsx)(K.p,{value:s.weight,onChange:e=>t((0,o.A)((0,o.A)({},s),{},{weight:e.target.value})),className:Se}):(0,j.jsx)("p",{className:be,children:s.weight})]})]})]})},Ce="HealthStatusSection_container__i5QUG",ke="HealthStatusSection_header__s7xIp",Ie="HealthStatusSection_title__zsAQ7",Pe="HealthStatusSection_content__dzsIU",Te="HealthStatusSection_field__-UlIQ",He="HealthStatusSection_label__4V1PA",Le="HealthStatusSection_value__fChfO",Ge="HealthStatusSection_select__MSoSL",De="HealthStatusSection_textarea__5FdnR",Be="HealthStatusSection_preformatted__xlQP-",Ee="HealthStatusSection_pre__--ckO",Me=e=>{let{isEditing:a,personalInfo:s,setPersonalInfo:t}=e;return(0,j.jsxs)("div",{className:Ce,children:[(0,j.jsx)("div",{className:ke,children:(0,j.jsx)("h3",{className:Ie,children:"Health Status"})}),(0,j.jsxs)("div",{className:Pe,children:[(0,j.jsxs)("div",{className:Te,children:[(0,j.jsx)("label",{className:He,children:"Exercise Level"}),a?(0,j.jsxs)("select",{value:s.exerciseLevel,onChange:e=>{t((0,o.A)((0,o.A)({},s),{},{exerciseLevel:e.target.value}))},className:Ge,children:[(0,j.jsx)("option",{value:"",children:"Select exercise level"}),(0,j.jsx)("option",{value:"Sedentary",children:"Sedentary"}),(0,j.jsx)("option",{value:"Moderately Active",children:"Moderately Active"}),(0,j.jsx)("option",{value:"Active",children:"Active"}),(0,j.jsx)("option",{value:"Very Active",children:"Very Active"})]}):(0,j.jsx)("p",{className:Le,children:s.exerciseLevel.charAt(0).toUpperCase()+s.exerciseLevel.slice(1)})]}),(0,j.jsxs)("div",{className:Te,children:[(0,j.jsx)("label",{className:He,children:"Current Medications"}),a?(0,j.jsx)("textarea",{className:De,value:s.medications,onChange:e=>t((0,o.A)((0,o.A)({},s),{},{medications:e.target.value})),placeholder:"List your current medications..."}):(0,j.jsx)("div",{className:Be,children:(0,j.jsx)("pre",{className:Ee,children:s.medications})})]}),(0,j.jsxs)("div",{className:Te,children:[(0,j.jsx)("label",{className:He,children:"Existing Conditions"}),a?(0,j.jsx)("textarea",{className:De,value:s.conditions,onChange:e=>t((0,o.A)((0,o.A)({},s),{},{conditions:e.target.value})),placeholder:"List any existing medical conditions..."}):(0,j.jsx)("div",{className:Be,children:(0,j.jsx)("pre",{className:Ee,children:s.conditions})})]})]})]})};var Re=s(5481);const Fe="HealthMetrics_card__Y1lHM",ze="HealthMetrics_container__ymYGe",Xe="HealthMetrics_header__lq+4U",Je="HealthMetrics_title__bgWoX",Oe="HealthMetrics_subtitle__MpNeV",Ue="HealthMetrics_buttonGroup__9IhRq",We="HealthMetrics_referButton__zF3R5",qe="HealthMetrics_referIcon__O9vJo",Ye="HealthMetrics_gridContainer__16S-T";var Ve=s(3497),Ze=s(256),Qe=s(4468),$e=s(7757),Ke=s(6159);const ea={container:"LabTestsSection_container__Bj9P4",title:"LabTestsSection_title__BY2mm",grid:"LabTestsSection_grid__wPkVW",card:"LabTestsSection_card__rLKa4",icon:"LabTestsSection_icon__V3Tio",cardTitle:"LabTestsSection_cardTitle__dcuEu",cardDescription:"LabTestsSection_cardDescription__FfPKu",fullWidth:"LabTestsSection_fullWidth__5TpiG",hiddenInput:"LabTestsSection_hiddenInput__FJl1S",fileContainer:"LabTestsSection_fileContainer__0IRF2",uploadButton:"LabTestsSection_uploadButton__mYCuh",purchaseButton:"LabTestsSection_purchaseButton__zcLV8",buttonIcon:"LabTestsSection_buttonIcon__OIBxM",spinningIcon:"LabTestsSection_spinningIcon__pAERx",spin:"LabTestsSection_spin__EtvtF",tooltipContent:"LabTestsSection_tooltipContent__weQ8s",helpIcon:"LabTestsSection_helpIcon__lzeP0"},aa=e=>{let{isEditing:a,bloodTestFile:s,geneticTestFile:n,onBloodTestUpload:l,onGeneticTestUpload:i}=e;const{toast:c}=(0,$e.d)(),[d,_]=(0,t.useState)({blood:!1,genetic:!1}),m=(0,t.useRef)(null),h=(0,t.useRef)(null);return(0,j.jsxs)("div",{className:ea.container,children:[(0,j.jsxs)("h3",{className:ea.title,children:["Lab Tests"," ",(0,j.jsx)(Ke.Bc,{children:(0,j.jsxs)(Ke.m_,{children:[(0,j.jsx)(Ke.k$,{asChild:!0,children:(0,j.jsx)("span",{className:ea.tooltipTrigger,children:(0,j.jsx)(Ve.A,{className:ea.helpIcon})})}),(0,j.jsx)(Ke.ZI,{side:"bottom",className:ea.tooltipContent,children:"Click on the Edit information button to upload a file and save the information"})]})})]}),(0,j.jsxs)("div",{className:ea.grid,children:[(0,j.jsxs)("div",{className:ea.card,children:[(0,j.jsx)(Ze.A,{className:ea.icon}),(0,j.jsx)("h4",{className:ea.cardTitle,children:"Lab Test"}),(0,j.jsx)("p",{className:ea.cardDescription,children:"Upload your lab test results here"}),(0,j.jsx)("input",{type:"file",ref:m,style:{display:"none"},accept:".pdf",onChange:e=>{var a;const s=null===(a=e.target.files)||void 0===a?void 0:a[0];s&&("application/pdf"===s.type?(_((e=>(0,o.A)((0,o.A)({},e),{},{blood:!0}))),setTimeout((()=>{c({title:"File uploaded successfully",description:"Your lab test file has been uploaded."}),_((e=>(0,o.A)((0,o.A)({},e),{},{blood:!1}))),l(s)}),1500)):c({title:"Invalid file type",description:"Please upload a PDF file.",variant:"destructive"}))}}),(0,j.jsx)(r.$,{variant:"outline",className:ea.uploadButton,disabled:!a||d.blood,onClick:()=>{var e;a&&!s&&(null===(e=m.current)||void 0===e||e.click())},children:d.blood?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(he.A,{className:ea.spinningIcon}),"Processing..."]}):s?(0,j.jsxs)("div",{className:ea.fileContainer,children:[(0,j.jsx)("span",{children:s.name}),a&&(0,j.jsx)("span",{className:ea.removeFile,onClick:()=>{a&&l(null)},children:"\xd7"})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Ze.A,{className:ea.buttonIcon}),"Choose PDF File"]})})]}),(0,j.jsxs)("div",{className:ea.card,children:[(0,j.jsx)(Ze.A,{className:ea.icon}),(0,j.jsx)("h4",{className:ea.cardTitle,children:"Genetic Test"}),(0,j.jsx)("p",{className:ea.cardDescription,children:"Upload your genetic test results here"}),(0,j.jsx)("input",{type:"file",ref:h,style:{display:"none"},accept:".pdf",onChange:e=>{var a;const s=null===(a=e.target.files)||void 0===a?void 0:a[0];s&&("application/pdf"===s.type?(_((e=>(0,o.A)((0,o.A)({},e),{},{genetic:!0}))),setTimeout((()=>{c({title:"File uploaded successfully",description:"Your genetic test file has been uploaded."}),_((e=>(0,o.A)((0,o.A)({},e),{},{genetic:!1}))),i(s)}),1500)):c({title:"Invalid file type",description:"Please upload a PDF file.",variant:"destructive"}))}}),(0,j.jsx)(r.$,{variant:"outline",className:ea.uploadButton,disabled:!a||d.genetic,onClick:()=>{var e;a&&!n&&(null===(e=h.current)||void 0===e||e.click())},children:d.genetic?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(he.A,{className:ea.spinningIcon}),"Processing..."]}):n?(0,j.jsxs)("div",{className:ea.fileContainer,children:[(0,j.jsx)("span",{children:n.name}),a&&(0,j.jsx)("span",{className:ea.removeFile,onClick:()=>{a&&i(null)},children:"\xd7"})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Ze.A,{className:ea.buttonIcon}),"Choose PDF File"]})})]}),(0,j.jsxs)("div",{className:ea.card,children:[(0,j.jsx)(Qe.A,{className:ea.icon}),(0,j.jsx)("h4",{className:ea.cardTitle,children:"Purchase a Lab Test"}),(0,j.jsx)("p",{className:ea.cardDescription,children:"Get comprehensive lab testing through our trusted partners"}),(0,j.jsx)(r.$,{onClick:()=>{c({title:"Redirecting to lab test purchase",description:"You'll be redirected to our partner's website to purchase your lab test."}),window.open("/purchase-tests","_blank")},className:ea.purchaseButton,children:"Order Now"})]})]})]})},sa=e=>e.split("\n").filter(Boolean).map((e=>e.replace(/^- /,""))),ta=()=>{const{toast:e}=(0,oe.d)(),{user:a}=(0,pe.A)(),[s,l]=(0,t.useState)(!1),[i,d]=(0,t.useState)(!0),[_,m]=(0,t.useState)({first_name:"",last_name:"",age:"",gender:"",height:"",weight:"",exerciseLevel:"",medications:"",conditions:""}),[h,p]=(0,t.useState)({blood_work_test:[],genetic_test:[]}),u=(0,t.useCallback)((e=>{var a;return{first_name:e.first_name||"",last_name:e.last_name||"",age:(null===(a=e.age)||void 0===a?void 0:a.toString())||"",gender:"F"===e.gender?"female":"male",height:e.height_in_feet&&e.height_in_inches?"".concat(e.height_in_feet,"' ").concat(e.height_in_inches,"''"):"",weight:e.weight?"".concat(e.weight," lbs"):"",exerciseLevel:e.activity_level||"",medications:e.current_medications?e.current_medications.map((e=>"- ".concat(e))).join("\n"):"",conditions:e.medical_conditions?e.medical_conditions.map((e=>"- ".concat(e))).join("\n"):""}}),[]),g=(0,t.useCallback)((async()=>{if(null!==a&&void 0!==a&&a.token)try{d(!0);const{data:e}=await n.A.get("".concat(de.A,"/api/v1/users/profile/"),{headers:{Authorization:"Bearer ".concat(a.token)}});m(u(e))}catch(r){var s,t;e({title:"Error",description:(null===r||void 0===r||null===(s=r.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to load profile data",variant:"destructive"})}finally{d(!1)}}),[a,e,u]);(0,t.useEffect)((()=>{g()}),[g]);return(0,j.jsx)(c.Zp,{className:Fe,children:(0,j.jsxs)("div",{className:ze,children:[(0,j.jsxs)("div",{className:Xe,children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("h2",{className:Je,children:["Welcome back, ",_.first_name||"User","!"]}),(0,j.jsx)("p",{className:Oe,children:"Here's an overview of your health metrics and goals."})]}),(0,j.jsxs)("div",{className:Ue,children:[(0,j.jsx)(r.$,{variant:"outline",onClick:s?async()=>{var s;if(null!==a&&void 0!==a&&a.token)try{const t=/^(\d+)' ?(\d+)''$/,r=_.height.match(t);let i=0,c=0;r&&(i=parseInt(r[1],10),c=parseInt(r[2],10));const o=_.weight.match(/(\d+(\.\d+)?)/),d=o?parseFloat(o[0]):0;if(parseInt(_.age,10)>110)return void e({title:"Invalid Age",description:"Age cannot exceed 110 years",variant:"destructive"});if(r&&(i>8||8===i&&c>0))return void e({title:"Invalid Height",description:"Height cannot exceed 8'0''",variant:"destructive"});if(d>600)return void e({title:"Invalid Weight",description:"Weight cannot exceed 600 lbs",variant:"destructive"});if(d<40)return void e({title:"Invalid Weight",description:"Weight cannot be less than 40 lbs",variant:"destructive"});const p=new FormData;p.append("age",_.age),p.append("gender","female"===_.gender?"F":"M"),p.append("activity_level",_.exerciseLevel?(s=_.exerciseLevel).charAt(0).toUpperCase()+s.slice(1):""),p.append("current_medications",JSON.stringify(sa(_.medications))),p.append("medical_conditions",JSON.stringify(sa(_.conditions))),p.append("height_in_feet",i),p.append("height_in_inches",c),p.append("weight",d),h.blood_work_test.length>0&&p.append("blood_work_test",h.blood_work_test[0]),h.genetic_test.length>0&&p.append("genetic_test",h.genetic_test[0]);const{data:g}=await n.A.patch("".concat(de.A,"/api/v1/users/profile/"),p,{headers:{Authorization:"Bearer ".concat(a.token),"Content-Type":"multipart/form-data"}});m(u(g)),l(!1),e({title:"Changes saved",description:"Your health information has been updated"})}catch(i){var t,r;console.error("Error saving profile:",i),e({title:"Error",description:(null===i||void 0===i||null===(t=i.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to save changes",variant:"destructive"})}}:()=>l(!0),className:We,children:s?"Save Changes":"Edit Information"}),(0,j.jsxs)(r.$,{variant:"outline",onClick:()=>{navigator.share?navigator.share({title:"Join me on Health Dashboard",text:"I've been using this great health tracking app. Join me!",url:window.location.origin}).catch((a=>{console.log("Error sharing:",a),e({title:"Error sharing",description:"There was an error sharing the link.",variant:"destructive"})})):(navigator.clipboard.writeText(window.location.origin),e({title:"Link copied to clipboard",description:"Share this link with your friends to invite them!"}))},className:We,children:[(0,j.jsx)(Re.A,{className:qe})," Refer a Friend"]})]})]}),(0,j.jsxs)("div",{className:Ye,children:[(0,j.jsx)(we,{isEditing:s,personalInfo:_,setPersonalInfo:m}),(0,j.jsx)(Me,{isEditing:s,personalInfo:_,setPersonalInfo:m})]}),(0,j.jsx)(aa,{isEditing:s,bloodTestFile:h.blood_work_test[0]||null,geneticTestFile:h.genetic_test[0]||null,onBloodTestUpload:e=>p((a=>(0,o.A)((0,o.A)({},a),{},{blood_work_test:e?[e]:[]}))),onGeneticTestUpload:e=>p((a=>(0,o.A)((0,o.A)({},a),{},{genetic_test:e?[e]:[]})))})]})})};var na=s(3230),ra=s(7473),la=s(5256);const ia="SupplementPlan_container__fJoBp",ca="SupplementPlan_backgroundAnimation__C4+xe",oa="SupplementPlan_backgroundOverlay__PoHsE",da="SupplementPlan_backgroundGradient__BILSF",_a="SupplementPlan_animationOne__Y87HY",ma="SupplementPlan_animationTwo__LDcjw",ha="SupplementPlan_animationThree__e8N7f",pa="SupplementPlan_card__K+NwU",ua="SupplementPlan_content__zJCin",ga="SupplementPlan_header__fSaMT",xa="SupplementPlan_title__X-hLI",ja="SupplementPlan_shareButton__DMK7s",va="SupplementPlan_shareButtonBackground__64bQG",Na="SupplementPlan_shareIcon__7EZ2+",fa="SupplementPlan_shareText__Xgf7x";var ya=s(7762);const ba="SupplementCard_card__Qkw6V",Sa="SupplementCard_container__vvqfh",Aa="SupplementCard_header__W1xTQ",wa="SupplementCard_image__UJF6F",Ca="SupplementCard_title__REbjo",ka="SupplementCard_subtitle__A-JPP",Ia="SupplementCard_description__VIzs9",Pa="SupplementCard_details__skDxe",Ta="SupplementCard_detailsTitle__8m-b5",Ha="SupplementCard_dosage__DuMAs",La="SupplementCard_footer__Cxl+A",Ga="SupplementCard_viewButton__Z-D9P";var Da=s(9878),Ba=s(225),Ea=s(193),Ma=s(1049);const Ra="dropdown-menu_subTrigger__8YMdR",Fa="dropdown-menu_inset__NjL4-",za="dropdown-menu_chevronRight__k5Hmq",Xa="dropdown-menu_subContent__JCdka",Ja="dropdown-menu_content__Mxsyk dropdown-menu_subContent__JCdka",Oa="dropdown-menu_menuItem__zrcDg",Ua="dropdown-menu_checkboxItem__AWf-L dropdown-menu_menuItem__zrcDg",Wa="dropdown-menu_itemIndicator__QC2VV",qa="dropdown-menu_radioItem__pAimD dropdown-menu_checkboxItem__AWf-L dropdown-menu_menuItem__zrcDg",Ya="dropdown-menu_label__iWfxq",Va="dropdown-menu_separator__A0TNI",Za=["className","inset","children"],Qa=["className"],$a=["className","sideOffset"],Ka=["className","inset"],es=["className","children","checked"],as=["className","children"],ss=["className","inset"],ts=["className"],ns=Da.bL,rs=Da.l9;Da.YJ,Da.ZL,Da.Pb,Da.z6;t.forwardRef(((e,a)=>{let{className:s,inset:t,children:n}=e,r=(0,d.A)(e,Za);return(0,j.jsxs)(Da.ZP,(0,o.A)((0,o.A)({ref:a,className:"".concat(Ra," ").concat(t?Fa:""," ").concat(s||"")},r),{},{children:[n,(0,j.jsx)(Ba.A,{className:za})]}))})).displayName=Da.ZP.displayName;t.forwardRef(((e,a)=>{let{className:s}=e,t=(0,d.A)(e,Qa);return(0,j.jsx)(Da.G5,(0,o.A)({ref:a,className:"".concat(Xa," ").concat(s||"")},t))})).displayName=Da.G5.displayName;const ls=t.forwardRef(((e,a)=>{let{className:s,sideOffset:t=4}=e,n=(0,d.A)(e,$a);return(0,j.jsx)(Da.ZL,{children:(0,j.jsx)(Da.UC,(0,o.A)({ref:a,sideOffset:t,side:"bottom",collisionPadding:8,className:"".concat(Ja," ").concat(s||""),avoidCollisions:!1},n))})}));ls.displayName=Da.UC.displayName;const is=t.forwardRef(((e,a)=>{let{className:s,inset:t}=e,n=(0,d.A)(e,Ka);return(0,j.jsx)(Da.q7,(0,o.A)({ref:a,className:"".concat(Oa," ").concat(t?Fa:""," ").concat(s||"")},n))}));is.displayName=Da.q7.displayName;t.forwardRef(((e,a)=>{let{className:s,children:t,checked:n}=e,r=(0,d.A)(e,es);return(0,j.jsxs)(Da.H_,(0,o.A)((0,o.A)({ref:a,className:"".concat(Ua," ").concat(s||""),checked:n},r),{},{children:[(0,j.jsx)("span",{className:Wa,children:(0,j.jsx)(Da.VF,{children:(0,j.jsx)(Ea.A,{className:"h-4 w-4"})})}),t]}))})).displayName=Da.H_.displayName;t.forwardRef(((e,a)=>{let{className:s,children:t}=e,n=(0,d.A)(e,as);return(0,j.jsxs)(Da.hN,(0,o.A)((0,o.A)({ref:a,className:"".concat(qa," ").concat(s||"")},n),{},{children:[(0,j.jsx)("span",{className:Wa,children:(0,j.jsx)(Da.VF,{children:(0,j.jsx)(Ma.A,{className:"h-2 w-2"})})}),t]}))})).displayName=Da.hN.displayName;t.forwardRef(((e,a)=>{let{className:s,inset:t}=e,n=(0,d.A)(e,ss);return(0,j.jsx)(Da.JU,(0,o.A)({ref:a,className:"".concat(Ya," ").concat(t?Fa:""," ").concat(s||"")},n))})).displayName=Da.JU.displayName;t.forwardRef(((e,a)=>{let{className:s}=e,t=(0,d.A)(e,ts);return(0,j.jsx)(Da.wv,(0,o.A)({ref:a,className:"".concat(Va," ").concat(s||"")},t))})).displayName=Da.wv.displayName;var cs=s(863);const os=e=>{let{supplementName:a,supplementData:s}=e;const{Benefits:t,"Medical-Grade Supplements":{"Product Name & Brand":n,"Dosage & Instructions":l,"Image URL":i,"Product URL":c}}=s,o=Array.isArray(c)?c:[{name:"View Product",url:c}];return(0,j.jsx)("div",{className:ba,children:(0,j.jsxs)("div",{className:Sa,children:[(0,j.jsxs)("div",{className:Aa,children:[(0,j.jsx)("img",{src:i||"/placeholder.svg",alt:a,className:wa,onError:e=>e.target.src="/lovable-uploads/alter.png"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:Ca,children:a}),(0,j.jsx)("p",{className:ka,children:n})]})]}),(0,j.jsx)("p",{className:Ia,children:t}),(0,j.jsxs)("div",{className:Pa,children:[(0,j.jsx)("h4",{className:Ta,children:"Dosage & Instructions"}),(0,j.jsx)("p",{className:Ha,children:l})]}),(0,j.jsx)("div",{className:La,children:1===o.length?(0,j.jsx)(r.$,{asChild:!0,variant:"outline",className:Ga,children:(0,j.jsx)("a",{href:o[0].url,target:"_blank",rel:"noopener noreferrer",children:o[0].name})}):(0,j.jsxs)(ns,{children:[(0,j.jsx)(rs,{asChild:!0,children:(0,j.jsxs)(r.$,{variant:"outline",className:Ga,children:["View Product ",(0,j.jsx)(cs.A,{className:"ml-2 h-4 w-4"})]})}),(0,j.jsx)(ls,{children:o.map(((e,a)=>(0,j.jsx)(is,{asChild:!0,children:(0,j.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.name})},a)))})]})})]})})},ds="SupplementsGrid_container__unBOG",_s="SupplementsGrid_grid__s1QRB",ms="SupplementsGrid_emptyState__BIL9D",hs="SupplementsGrid_emptyMessage__MEaD7",ps=e=>{let{supplements:a}=e;const s=!a||0===Object.keys(a).length;return(0,j.jsx)("div",{className:ds,children:s?(0,j.jsx)("div",{className:ms,children:(0,j.jsx)("p",{className:hs,children:"No supplement recommendations available yet."})}):(0,j.jsx)("div",{className:_s,children:Object.entries(a).map((e=>{let[a,s]=e;return(0,j.jsx)(os,{supplementName:a,supplementData:s},a)}))})})},us=()=>{const[e,a]=(0,t.useState)({}),[s,l]=(0,t.useState)(!0),{toast:i}=(0,$e.d)(),{user:o}=(0,pe.A)(),d=(0,t.useRef)(null),[_,m]=(0,t.useState)(!1),h=async()=>{try{l(!0);const e=await n.A.get("".concat(de.A,"/api/v1/supplement-plan/"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===o||void 0===o?void 0:o.token)}});if(200===e.status){const s=(e=>{const a={};return e.supplements.forEach((e=>{a[e.name]={Benefits:e.benefits,"Medical-Grade Supplements":{"Product Name & Brand":"".concat(e.product_name_brand),"Dosage & Instructions":e.dosage_instructions,"Image URL":e.product_img_url,"Product URL":e.product_urls.map((e=>({name:e.name,url:e.url})))}}})),a})(e.data);a(s),l(!1),d.current&&(clearInterval(d.current),d.current=null)}}catch(_){_.response&&404===_.response.status||(l(!1),m(!0))}};(0,t.useEffect)((()=>(h(),d.current=setInterval(h,15e3),()=>{d.current&&clearInterval(d.current)})),[i,o]);const p=async()=>{const a=new ya.Ay;a.setFontSize(18),a.text("Supplement Plan",15,20);let s=40;Object.entries(e).forEach((e=>{let[t,n]=e;s>250&&(a.addPage(),s=20),a.setFontSize(14),a.text(t,15,s),s+=10,a.setFontSize(10),a.text(n.Benefits||"Not specified",15,s,{maxWidth:180}),s+=20}));try{const e=await u("/logo.png");if(e){const s=100,t=35,n=a.internal.pageSize.getWidth(),r=a.internal.pageSize.getHeight(),l=(n-s)/2,i=r-t-10;a.addImage(e,"PNG",l,i,s,t)}}catch(_){console.error("Error loading logo:",_)}return a},u=e=>new Promise(((a,s)=>{const t=new Image;t.crossOrigin="anonymous",t.src=e,t.onload=()=>{const e=document.createElement("canvas");e.width=t.width,e.height=t.height;e.getContext("2d").drawImage(t,0,0),a(e.toDataURL("image/png"))},t.onerror=e=>s(e)}));return(0,j.jsxs)("div",{className:ia,children:[(0,j.jsx)("div",{className:ca,children:(0,j.jsxs)("div",{className:oa,children:[(0,j.jsx)("div",{className:"".concat(da," ").concat(_a)}),(0,j.jsx)("div",{className:"".concat(da," ").concat(ma)}),(0,j.jsx)("div",{className:"".concat(da," ").concat(ha)})]})}),(0,j.jsx)(c.Zp,{className:pa,children:(0,j.jsxs)("div",{className:ua,children:[(0,j.jsxs)("div",{className:ga,children:[(0,j.jsx)("h2",{className:xa,children:"Personalized Supplement Plan"}),(0,j.jsxs)(ns,{children:[(0,j.jsx)(rs,{asChild:!0,children:(0,j.jsxs)(r.$,{variant:"outline",className:ja,children:[(0,j.jsx)("div",{className:va}),(0,j.jsx)(na.A,{className:Na}),(0,j.jsx)("span",{className:fa,children:"Share Plan"})]})}),(0,j.jsx)(ls,{children:(0,j.jsxs)(is,{onClick:async()=>{(await p()).save("supplement_plan.pdf"),i({title:"PDF Downloaded",description:"Your supplement plan has been downloaded as a PDF."})},children:[(0,j.jsx)(ra.A,{className:"mr-2 h-4 w-4"}),(0,j.jsx)("span",{children:"Download PDF"})]})})]})]}),(0,j.jsxs)("div",{className:"container",children:[s&&(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)(he.A,{className:"animate-spin loader "}),(0,j.jsx)("p",{className:"info-text",children:"Hang tight! We're putting together your personalized supplement plan. This won\u2019t take long."})]}),_&&(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)("button",{className:"ghost-btn",onClick:()=>h(),children:(0,j.jsx)(la.A,{className:"info-text"})}),(0,j.jsx)("p",{className:"info-text",children:"Unable to load your personalized supplement plan"})]})]}),(0,j.jsx)(ps,{supplements:e})]})})]})};var gs=s(197),xs=s(5110),js=s(3332);const vs="progress_progressRoot__6yhu4",Ns="progress_progressIndicator__h15It",fs=["className","value"];(0,t.forwardRef)(((e,a)=>{let{className:s="",value:t}=e,n=(0,d.A)(e,fs);const r="".concat(vs," ").concat(s).trim();return(0,j.jsx)(js.bL,(0,o.A)((0,o.A)({ref:a,className:r},n),{},{children:(0,j.jsx)(js.C1,{className:Ns,style:{transform:"translateX(-".concat(100-(t||0),"%)")}})}))})).displayName=js.bL.displayName;var ys=s(2336);const bs="GoalItem_container__CvSoj",Ss="GoalItem_editContainer__ADP8Y",As="GoalItem_goalNameInput__d9QLq",ws="GoalItem_descriptionTextarea__Ns6lR",Cs="GoalItem_buttonGroup__K45Ox",ks="GoalItem_saveButton__XnBNG",Is="GoalItem_deleteButton__WhuJX",Ps="GoalItem_trashIcon__1B-bE",Ts="GoalItem_viewContainer__BGqmX",Hs="GoalItem_headerContainer__OuIrg",Ls="GoalItem_goalName__bdcw+",Gs="GoalItem_description__Zw+E0",Ds="GoalItem_editButton__qQn+F",Bs="GoalItem_editIcon__Ige3e",Es=e=>{let{goal:a,onUpdate:s,isEditing:n,updateGoal:l,deleteGoal:i}=e;const[c,d]=(0,t.useState)(a),{toast:_}=(0,oe.d)();(0,t.useEffect)((()=>{d(a)}),[a]);return(0,j.jsx)("div",{className:bs,children:n?(0,j.jsxs)("div",{className:Ss,children:[(0,j.jsx)(K.p,{value:c.name||"",onChange:e=>d((a=>(0,o.A)((0,o.A)({},a),{},{name:e.target.value}))),className:As,placeholder:"Goal name"}),(0,j.jsx)(xs.T,{value:c.description||"",onChange:e=>d((a=>(0,o.A)((0,o.A)({},a),{},{description:e.target.value}))),placeholder:"Add a description for your goal",className:ws}),(0,j.jsxs)("div",{className:Cs,children:[(0,j.jsx)(r.$,{onClick:async()=>{try{await l(a.id,{name:c.name,description:c.description}),_({title:"Goal updated",description:"Your health goal has been updated successfully."}),s()}catch(e){console.error("Error updating goal:",e),_({title:"Error",description:"Failed to update goal. Please try again.",variant:"destructive"})}},className:ks,children:"Save Changes"}),(0,j.jsxs)(r.$,{onClick:async()=>{try{await i(a.id),_({title:"Goal deleted",description:"Your health goal has been deleted successfully."}),s()}catch(e){console.error("Error deleting goal:",e),_({title:"Error",description:"Failed to delete goal. Please try again.",variant:"destructive"})}},variant:"destructive",className:Is,children:[(0,j.jsx)(me.A,{className:Ps}),"Delete"]})]})]}):(0,j.jsx)("div",{className:Ts,children:(0,j.jsxs)("div",{className:Hs,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:Ls,children:a.name}),a.description&&(0,j.jsx)("p",{className:Gs,children:a.description})]}),n&&(0,j.jsx)(r.$,{variant:"ghost",onClick:()=>d(a),className:Ds,children:(0,j.jsx)(ys.A,{className:Bs})})]})})})};var Ms=s(6330),Rs=s(9859),Fs=s(9449),zs=s(9280),Xs=s(4641);const Js="XPStore_card__ejix5",Os="XPStore_container__8xH69",Us="XPStore_header__z9uG5",Ws="XPStore_title__J0Yi3",qs="XPStore_subtitle__W3xiS",Ys="XPStore_xpBadge__jkcVT",Vs="XPStore_starIcon__xsK-r",Zs="XPStore_xpText__w4ve4",Qs="XPStore_rewardsGrid__MCnpe",$s="XPStore_rewardCard__fqLNi",Ks="XPStore_rewardContent__SON7b",et="XPStore_imageContainer__DkziQ",at="XPStore_rewardImage__HJqHE",st="XPStore_emojiContainer__DYPJH",tt="XPStore_iconContainer__WM+Iz",nt="XPStore_icon__w5+V1",rt="XPStore_rewardDetails__JIdDq",lt="XPStore_rewardName__NlK4k",it="XPStore_rewardCost__z8cw+",ct="XPStore_redeemButton__O1UzI",ot="XPStore_xpEarningSection__Oh7DV",dt="XPStore_xpEarningTitle__9WIqe",_t="XPStore_xpEarningList__atXKk",mt="XPStore_xpEarningItem__QrgW7",ht="XPStore_xpAmount__5oWJD",pt="XPStore_dialogContent__Nx9ch",ut="XPStore_dialogImage__SsYux",gt=[{name:"Free Supplement Bottle",cost:5e3,icon:(0,j.jsx)(Qe.A,{className:nt}),image:"/lovable-uploads/7.png"},{name:"Custom Water Bottle",cost:1e4,icon:(0,j.jsx)(Rs.A,{className:nt}),image:"/lovable-uploads/10.png"},{name:"Custom Merch of the Month",cost:15e3,icon:(0,j.jsx)(Fs.A,{className:nt}),image:"/lovable-uploads/8.png"},{name:"Fitness Class (F45/Barry's/Spincycle)",cost:2e4,icon:(0,j.jsx)(zs.A,{className:nt}),emoji:"\ud83d\udeb2"},{name:"$100 Alo Gift Card",cost:25e3,icon:(0,j.jsx)(Rs.A,{className:nt}),image:"/lovable-uploads/11.png"},{name:"Ninja Creami Ice Cream Maker",cost:3e4,icon:(0,j.jsx)(Xs.A,{className:nt}),image:"/lovable-uploads/9.png"}],xt=()=>{const{toast:e}=(0,oe.d)(),{user:a}=(0,pe.A)(),s=(null===a||void 0===a?void 0:a.xp_score)||0,[n,l]=t.useState(!1);return(0,j.jsx)(c.Zp,{className:Js,children:(0,j.jsxs)("div",{className:Os,children:[(0,j.jsxs)("div",{className:Us,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:Ws,children:"XP Store"}),(0,j.jsx)("p",{className:qs,children:"Redeem your XP for exclusive rewards"})]}),(0,j.jsxs)("div",{className:Ys,children:[(0,j.jsx)(Fs.A,{className:Vs}),(0,j.jsxs)("span",{className:Zs,children:[s," XP"]})]})]}),(0,j.jsx)("div",{className:Qs,children:gt.map(((a,t)=>(0,j.jsx)(c.Zp,{className:$s,children:(0,j.jsxs)("div",{className:Ks,children:[a.image?(0,j.jsxs)(Ms.lG,{children:[(0,j.jsx)(Ms.zM,{asChild:!0,children:(0,j.jsx)("div",{className:et,children:(0,j.jsx)("img",{src:a.image,alt:a.name,className:at})})}),(0,j.jsx)(Ms.Cf,{className:pt,children:(0,j.jsx)("img",{src:a.image,alt:a.name,className:ut})})]}):a.emoji?(0,j.jsx)("div",{className:st,children:a.emoji}):(0,j.jsx)("div",{className:tt,children:a.icon}),(0,j.jsxs)("div",{className:rt,children:[(0,j.jsx)("h4",{className:lt,children:a.name}),(0,j.jsxs)("p",{className:it,children:[a.cost," XP"]}),(0,j.jsx)(r.$,{variant:"outline",size:"sm",disabled:n||s<a.cost,onClick:()=>(async a=>{if(l(!0),s<a.cost)return e({title:"Insufficient XP",description:"You need ".concat(a.cost-s," more XP to redeem this reward."),variant:"destructive"}),void l(!1);setTimeout((()=>{a.cost,e({title:"Reward Redeemed!",description:"You've successfully redeemed ".concat(a.name,". Our team will contact you soon.")}),l(!1)}),1e3)})(a),className:ct,children:"Redeem"})]})]})},t)))}),(0,j.jsxs)("div",{className:ot,children:[(0,j.jsx)("h4",{className:dt,children:"How to Earn XP"}),(0,j.jsxs)("ul",{className:_t,children:[(0,j.jsxs)("li",{className:mt,children:[(0,j.jsx)("span",{children:"Daily Supplement Log"}),(0,j.jsx)("span",{className:ht,children:"10 XP"})]}),(0,j.jsxs)("li",{className:mt,children:[(0,j.jsx)("span",{children:"Daily Quiz"}),(0,j.jsx)("span",{className:ht,children:"50 XP"})]}),(0,j.jsxs)("li",{className:mt,children:[(0,j.jsx)("span",{children:"7 Day Quiz Streak"}),(0,j.jsx)("span",{className:ht,children:"200 XP"})]}),(0,j.jsxs)("li",{className:mt,children:[(0,j.jsx)("span",{children:"14 Day Quiz Streak"}),(0,j.jsx)("span",{className:ht,children:"400 XP"})]}),(0,j.jsxs)("li",{className:mt,children:[(0,j.jsx)("span",{children:"Refer a Friend"}),(0,j.jsx)("span",{className:ht,children:"500 XP"})]}),(0,j.jsxs)("li",{className:mt,children:[(0,j.jsx)("span",{children:"21 Day Quiz Streak"}),(0,j.jsx)("span",{className:ht,children:"600 XP"})]}),(0,j.jsxs)("li",{className:mt,children:[(0,j.jsx)("span",{children:"28 Day Quiz Streak"}),(0,j.jsx)("span",{className:ht,children:"800 XP"})]})]})]})]})})};var jt=s(5561),vt=s(9604);const Nt="popover_popoverContent__kc33T",ft=["className","align","sideOffset"],yt=vt.bL,bt=vt.l9,St=t.forwardRef(((e,a)=>{let{className:s,align:t="center",sideOffset:n=4}=e,r=(0,d.A)(e,ft);return(0,j.jsx)(vt.ZL,{children:(0,j.jsx)(vt.UC,(0,o.A)({ref:a,align:t,sideOffset:n,className:"".concat(Nt," ").concat(s||"")},r))})}));St.displayName=vt.UC.displayName;var At=s(8837),wt=s(6637);const Ct="addgoaldialog_addGoalButton__QjUm2",kt="addgoaldialog_text__tNDJg",It="addgoaldialog_textarea__Y4JmD",Pt="addgoaldialog_input__aO0X8",Tt="addgoaldialog_plusIcon__lyCMn",Ht="addgoaldialog_dialogContent__PxEUv",Lt="addgoaldialog_form__O1LkO",Gt="addgoaldialog_formGroup__hrDfs",Dt="addgoaldialog_dialogFooter__A8X7c",Bt="addgoaldialog_submitButton__QuljS",Et=e=>{let{onAddGoal:a,initialGoal:s}=e;const[n,l]=(0,t.useState)(!1),{toast:i}=(0,$e.d)(),c=Boolean(s),[d,_]=(0,t.useState)(s||{name:"",description:""});(0,t.useEffect)((()=>{s&&_(s)}),[s]);return(0,j.jsxs)(Ms.lG,{open:n,onOpenChange:l,children:[(0,j.jsx)(Ms.zM,{asChild:!0,children:(0,j.jsx)(r.$,{className:Ct,onClick:()=>l(!0),children:c?"Edit Goal":(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(wt.A,{className:Tt}),(0,j.jsx)("span",{className:kt,children:"Add New Goal"})]})})}),(0,j.jsxs)(Ms.Cf,{className:Ht,children:[(0,j.jsx)(Ms.c7,{children:(0,j.jsx)(Ms.L3,{children:c?"Edit Goal":"Add New Goal"})}),(0,j.jsxs)("form",{onSubmit:async e=>{e.preventDefault();await a(d)?(i({title:c?"Goal Updated":"Goal Created",description:c?"Your goal has been updated successfully.":"Your new goal has been added successfully."}),l(!1),_({name:"",description:""})):i({title:"Error",description:c?"Failed to update goal. Please try again.":"Failed to create goal. Please try again.",variant:"destructive"})},className:Lt,children:[(0,j.jsxs)("div",{className:Gt,children:[(0,j.jsx)(At.J,{htmlFor:"goal_name",children:"Goal Name"}),(0,j.jsx)("input",{id:"goal_name",className:Pt,value:d.name,onChange:e=>_((0,o.A)((0,o.A)({},d),{},{name:e.target.value})),placeholder:"Enter goal name",required:!0})]}),(0,j.jsxs)("div",{className:Gt,children:[(0,j.jsx)(At.J,{htmlFor:"description",children:"Description"}),(0,j.jsx)("textarea",{id:"description",className:It,value:d.description,onChange:e=>_((0,o.A)((0,o.A)({},d),{},{description:e.target.value})),placeholder:"Enter goal description",required:!0})]}),(0,j.jsx)(Ms.Es,{className:Dt,children:(0,j.jsx)(r.$,{type:"submit",className:Bt,children:c?"Update Goal":"Create Goal"})})]})]})]})},Mt={container:"HealthGoals_container__Wsdg1",animatedBackground:"HealthGoals_animatedBackground__-5D6P",backgroundOverlay:"HealthGoals_backgroundOverlay__p2G+L",backgroundPulse1:"HealthGoals_backgroundPulse1__thS8E",backgroundPulse2:"HealthGoals_backgroundPulse2__NZpRZ",backgroundPulse3:"HealthGoals_backgroundPulse3__BKnlR",pulse:"HealthGoals_pulse__PPOp7",contentWrapper:"HealthGoals_contentWrapper__Hg-nt",mainCard:"HealthGoals_mainCard__iUORz",buttonContainer:"HealthGoals_buttonContainer__9PLjq",button:"HealthGoals_button__KSjt6",icon:"HealthGoals_icon__wgpso",cardContent:"HealthGoals_cardContent__RX2wz",headerSection:"HealthGoals_headerSection__hzSn7",titleContainer:"HealthGoals_titleContainer__9kzVp",title:"HealthGoals_title__Rkxo3",helpButton:"HealthGoals_helpButton__eSyYT",helpIcon:"HealthGoals_helpIcon__ikhYN",editButton:"HealthGoals_editButton__z82Hc",tabsContainer:"HealthGoals_tabsContainer__w1dai",tabsList:"HealthGoals_tabsList__I4qnR",tabsTrigger:"HealthGoals_tabsTrigger__-ugXJ",bottomcontainer:"HealthGoals_bottomcontainer__XIjiW",card:"HealthGoals_card__rb6PI",content:"HealthGoals_content__VcZH8",bottomSection:"HealthGoals_bottomSection__hNw8O",addGoalButton:"HealthGoals_addGoalButton__yaHVu"},Rt=()=>{const[e,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(!1),{user:o}=(0,pe.A)(),{toast:d}=(0,$e.d)(),_=(0,i.Zp)(),[m,h]=(0,t.useState)(!1),[p,u]=(0,t.useState)(!1),[g,x]=(0,t.useState)(!1),v=(0,t.useCallback)((async()=>{if(o)try{u(!0);const e=await n.A.get("".concat(de.A,"/api/v1/goals/"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===o||void 0===o?void 0:o.token)}});a(e.data),x(!1),u(!1)}catch(e){console.error("Error fetching goals:",e),u(!1),x(!0)}}),[o,d]),N=async e=>{try{const s=await n.A.post("".concat(de.A,"/api/v1/goals/"),e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===o||void 0===o?void 0:o.token)}});return a((e=>[...e,s.data])),d({title:"Goal added"}),!0}catch(s){return console.error("Error adding goal:",s),d({description:"Unable to add goal",variant:"destructive"}),!1}},f=async(e,a)=>{try{await n.A.patch("".concat(de.A,"/api/v1/goals/").concat(e,"/"),a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===o||void 0===o?void 0:o.token)}}),await v(),d({title:"Goal updated"})}catch(s){console.error("Error updating goal:",s),d({description:"Unable to update goal.",variant:"destructive"})}},y=async e=>{try{await n.A.delete("".concat(de.A,"/api/v1/goals/").concat(e,"/"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===o||void 0===o?void 0:o.token)}}),await v(),d({title:"Goal deleted"})}catch(a){console.error("Error deleting goal:",a),d({description:"Unable to delete goal",variant:"destructive"})}};(0,t.useEffect)((()=>{v()}),[v]);return(0,j.jsxs)("div",{className:Mt.container,children:[(0,j.jsx)("div",{className:Mt.animatedBackground,children:(0,j.jsxs)("div",{className:Mt.backgroundOverlay,children:[(0,j.jsx)("div",{className:Mt.backgroundPulse1}),(0,j.jsx)("div",{className:Mt.backgroundPulse2}),(0,j.jsx)("div",{className:Mt.backgroundPulse3})]})}),(0,j.jsxs)("div",{className:Mt.contentWrapper,children:[(0,j.jsx)(c.Zp,{className:Mt.mainCard,children:(0,j.jsxs)("div",{className:Mt.cardContent,children:[(0,j.jsxs)("div",{className:Mt.headerSection,children:[(0,j.jsxs)("div",{className:Mt.titleContainer,children:[(0,j.jsx)("h2",{className:Mt.title,children:"Health Goals"}),(0,j.jsxs)(yt,{open:m,onOpenChange:h,children:[(0,j.jsx)(bt,{asChild:!0,children:(0,j.jsx)("div",{onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:(0,j.jsx)(r.$,{variant:"ghost",size:"icon",className:Mt.helpButton,children:(0,j.jsx)(Ve.A,{className:Mt.helpIcon})})})}),(0,j.jsx)(St,{onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),className:Mt.popoverContent,children:"Track your progress towards your goals and earn XP for completing activities"})]})]}),(0,j.jsxs)("div",{className:Mt.buttonContainer,children:[(0,j.jsxs)(r.$,{variant:"outline",onClick:()=>{_("journal")},className:Mt.button,children:[(0,j.jsx)(gs.A,{className:Mt.icon}),"Journal"]}),(0,j.jsx)(r.$,{variant:"outline",onClick:()=>s?(async()=>{l(!1),await v(),d({title:"Changes saved successfully",description:"Your health goals have been updated."})})():l(!0),className:Mt.button,children:s?"Save Changes":"Edit Goals"})]})]}),(0,j.jsxs)(jt.tU,{defaultValue:"goal",className:Mt.tabsContainer,children:[(0,j.jsxs)(jt.j7,{className:Mt.tabsList,children:[(0,j.jsx)(jt.Xi,{value:"goal",className:Mt.tabsTrigger,children:"Goals"}),(0,j.jsx)(jt.Xi,{value:"biomarker",className:Mt.tabsTrigger,children:"Biomarkers"}),(0,j.jsx)(jt.Xi,{value:"gene",className:Mt.tabsTrigger,children:"Genes"})]}),(0,j.jsx)(jt.av,{value:"goal",className:Mt.tabContent,children:(a=>{let t;return t="Goal"===a?e.filter((e=>!e.category||"Goal"===e.category)):e.filter((e=>e.category===a)),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"container",children:[p&&(0,j.jsx)(he.A,{className:"animate-spin loader "}),g&&(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)("button",{className:"ghost-btn",onClick:()=>{v()},children:(0,j.jsx)(la.A,{className:"info-text"})}),(0,j.jsx)("p",{className:"info-text",children:"Unable to load goals"})]})]}),(0,j.jsxs)("div",{className:Mt.goalsList,children:[t.map((e=>(0,j.jsx)(c.Zp,{className:Mt.goalCard,children:(0,j.jsx)(Es,{goal:e,onUpdate:v,isEditing:s,updateGoal:f,deleteGoal:y})},e.id))),(0,j.jsx)(Et,{onAddGoal:N})]})]})})("Goal")}),(0,j.jsx)(jt.av,{value:"biomarker",className:Mt.tabContent}),(0,j.jsx)(jt.av,{value:"gene",className:Mt.tabContent})]})]})}),(0,j.jsx)("div",{className:Mt.bottomcontainer,children:(0,j.jsx)(c.Zp,{className:Mt.card,children:(0,j.jsx)("div",{className:Mt.content,children:(0,j.jsx)(xt,{})})})})]})]})};var Ft=s(3908);const zt="Dashboard_container__khfql",Xt="Dashboard_wrapper__YdT4C",Jt="Dashboard_adminContainer__7wRny",Ot="Dashboard_adminButton__3JHK+",Ut="Dashboard_btnContainer__1s6bD",Wt="Dashboard_tabs__ywYx6",qt="Dashboard_header__DznD5",Yt="Dashboard_headerLeft__bX4CB",Vt="Dashboard_backButton__GFc0h",Zt="Dashboard_icon__ih+eF",Qt="Dashboard_tabsList__qlTqV",$t="Dashboard_tabsTrigger__DBhxf",Kt="Dashboard_content__5D3v0",en="Dashboard_tabContent__1Qtp4",an=()=>{const e=(0,i.Zp)(),{toast:a}=((0,Ft.a)(),(0,oe.d)()),[s,c]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{(async()=>{try{var e,s;const a=(null===(e=(await n.A.get("".concat(de.A,"/api/v1/users/profile/"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}})).data)||void 0===e||null===(s=e.user_role)||void 0===s?void 0:s.map((e=>e.role_name)))||[];c(a.includes("Admin"))}catch(t){console.error("Error fetching profile:",t),a({title:"Unable to load profile",variant:"destructive"})}})()}),[a]),(0,j.jsx)("div",{className:zt,children:(0,j.jsx)("div",{className:Xt,children:(0,j.jsxs)(jt.tU,{defaultValue:"assistant",className:Wt,children:[(0,j.jsxs)("div",{className:qt,children:[(0,j.jsx)("div",{className:Yt,children:(0,j.jsxs)(r.$,{variant:"ghost",size:"sm",className:Vt,onClick:()=>e("/"),children:[(0,j.jsx)(l.A,{className:Zt}),"Back"]})}),(0,j.jsxs)("div",{className:Ut,children:[(0,j.jsx)("div",{className:Jt,children:s&&(0,j.jsx)(r.$,{className:Ot,onClick:()=>e("/admin"),children:"Admin Panel"})}),(0,j.jsxs)(jt.j7,{className:Qt,children:[(0,j.jsx)(jt.Xi,{value:"assistant",className:$t,children:"Assistant"}),(0,j.jsx)(jt.Xi,{value:"metrics",className:$t,children:"Metrics"}),(0,j.jsx)(jt.Xi,{value:"supplements",className:$t,children:"Plan"}),(0,j.jsx)(jt.Xi,{value:"goals",className:$t,children:"Goals"})]})]})]}),(0,j.jsxs)("div",{className:Kt,children:[(0,j.jsx)(jt.av,{value:"assistant",className:en,children:(0,j.jsx)(xe,{})}),(0,j.jsx)(jt.av,{value:"metrics",className:en,children:(0,j.jsx)(ta,{})}),(0,j.jsx)(jt.av,{value:"supplements",className:en,children:(0,j.jsx)(us,{})}),(0,j.jsx)(jt.av,{value:"goals",className:en,children:(0,j.jsx)(Rt,{})})]})]})})})};var sn=s(1993),tn=s(9766);const nn="slider_root__-6toH",rn="slider_track__FdwVA",ln="slider_range__TOeQv",cn="slider_thumb__EMsFu",on=["className"],dn=t.forwardRef(((e,a)=>{let{className:s}=e,t=(0,d.A)(e,on);return(0,j.jsxs)(tn.bL,(0,o.A)((0,o.A)({ref:a,className:"".concat(nn," ").concat(s||"")},t),{},{children:[(0,j.jsx)(tn.CC,{className:rn,children:(0,j.jsx)(tn.Q6,{className:ln})}),(0,j.jsx)(tn.zi,{className:cn})]}))}));dn.displayName=tn.bL.displayName;const _n="SymptomTracker_card__EL7N2",mn="SymptomTracker_title__gWwSh",hn="SymptomTracker_form__QR35r",pn="SymptomTracker_sliderSection__zXb1S",un="SymptomTracker_sliderContainer__vQBf5",gn="SymptomTracker_slider__18s7C",xn="SymptomTracker_numberLabels__3LxdA",jn="SymptomTracker_textLabels__e01bL",vn="SymptomTracker_textareaSection__Vq3jY",Nn="SymptomTracker_textarea__s8xVv",fn="SymptomTracker_submitButton__Bapfm",yn=()=>{const[e,a]=(0,t.useState)(3),[s,n]=(0,t.useState)(3),[l,i]=(0,t.useState)(3),[o,d]=(0,t.useState)(""),{toast:_}=(0,$e.d)(),m=(e,a,s,t,n)=>(0,j.jsxs)("div",{className:pn,children:[(0,j.jsx)(At.J,{children:e}),(0,j.jsxs)("div",{className:un,children:[(0,j.jsx)(dn,{value:[a],onValueChange:e=>s(e[0]),max:5,min:1,step:1,className:gn}),(0,j.jsxs)("div",{className:xn,children:[(0,j.jsx)("span",{children:"1"}),(0,j.jsx)("span",{children:"2"}),(0,j.jsx)("span",{children:"3"}),(0,j.jsx)("span",{children:"4"}),(0,j.jsx)("span",{children:"5"})]}),(0,j.jsxs)("div",{className:jn,children:[(0,j.jsx)("span",{children:t}),(0,j.jsx)("span",{children:n})]})]})]});return(0,j.jsxs)(c.Zp,{className:_n,children:[(0,j.jsx)("h3",{className:mn,children:"Daily Wellness Journal"}),(0,j.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const{data:{user:t}}=await sn.N.auth.getUser();if(!t)throw new Error("No user found");const{error:r}=await sn.N.from("symptom_tracking").insert([{user_id:t.id,symptom:"Energy Level",severity:e,notes:"Daily energy tracking"},{user_id:t.id,symptom:"Sleep Quality",severity:l,notes:"Daily sleep quality tracking"},{user_id:t.id,symptom:"Stress/Anxiety",severity:s,notes:"Daily stress tracking"},...o?[{user_id:t.id,symptom:"Other",severity:0,notes:o}]:[]]);if(r)throw r;_({title:"Wellness tracked",description:"Your wellness entry has been recorded successfully."}),a(3),n(3),i(3),d("")}catch(r){console.error("Error tracking wellness:",r),_({title:"Error",description:"Failed to save wellness entry. Please try again.",variant:"destructive"})}},className:hn,children:[m("How is your energy today?",e,a,"Low Energy","Great Energy"),m("How well did you sleep?",l,i,"Poor Sleep","Great Sleep"),m("Did you feel anxious or stressed today?",s,n,"Not at all","Very"),(0,j.jsxs)("div",{className:vn,children:[(0,j.jsx)(At.J,{children:"Any other symptoms you want to track?"}),(0,j.jsx)(xs.T,{placeholder:"Enter any other symptoms or notes here...",value:o,onChange:e=>d(e.target.value),className:Nn})]}),(0,j.jsx)(r.$,{type:"submit",className:fn,children:"Record Wellness Entry"})]})]})};var bn=s(7570);const Sn="Journal_container__gLdZ0",An="Journal_content__Zo9XQ",wn="Journal_header__JGQYO",Cn="Journal_backButton__Zz1KS",kn="Journal_backIcon__dcZa9",In="Journal_backText__IPjIM",Pn="Journal_title__RuO7T",Tn="Journal_supplementCard__MrRMz",Hn="Journal_supplementContent__kcwDR",Ln="Journal_supplementInner__g02Au",Gn="Journal_supplementTitle__RhNIU",Dn="Journal_supplementForm__ON+vQ",Bn="Journal_questionLabel__nZypi",En="Journal_radioGroup__x3BMo",Mn="Journal_radioWrapper__x8Kg6",Rn="Journal_radioInner__zv7PS",Fn="Journal_radioBox__zYgve",zn="Journal_radio__stE4C",Xn="Journal_radioLabel__cv-s6",Jn="Journal_submitButton__+bdME",On="Journal_trackerCard__vZ0M2",Un="Journal_trackerContent__nYoVw",Wn=()=>{const e=(0,i.Zp)(),[a,s]=(0,t.useState)(""),{toast:n}=(0,$e.d)();return(0,j.jsx)("div",{className:Sn,children:(0,j.jsxs)("div",{className:An,children:[(0,j.jsxs)("div",{className:wn,children:[(0,j.jsxs)(r.$,{variant:"ghost",size:"sm",className:Cn,onClick:()=>e("/dashboard"),children:[(0,j.jsx)(l.A,{className:kn}),(0,j.jsx)("span",{className:In,children:"Back to Dashboard"})]}),(0,j.jsx)("h1",{className:Pn,children:"Health Journal"})]}),(0,j.jsx)(c.Zp,{className:Tn,children:(0,j.jsx)("div",{className:Hn,children:(0,j.jsxs)("div",{className:Ln,children:[(0,j.jsx)("h3",{className:Gn,children:"Daily Supplement Check"}),(0,j.jsxs)("div",{className:Dn,children:[(0,j.jsx)(At.J,{className:Bn,children:"Did you take your supplements today?"}),(0,j.jsx)(bn.z,{value:a,onValueChange:s,className:En,children:["yes","no"].map((e=>(0,j.jsx)("div",{className:Mn,children:(0,j.jsxs)("div",{className:Rn,children:[(0,j.jsx)("div",{className:Fn,children:(0,j.jsx)(bn.C,{value:e,id:e,className:zn})}),(0,j.jsx)(At.J,{htmlFor:e,className:Xn,children:e.charAt(0).toUpperCase()+e.slice(1)})]})},e)))}),(0,j.jsx)(r.$,{onClick:async()=>{try{const{data:{user:e}}=await sn.N.auth.getUser();if(!e)throw new Error("No user found");const{error:t}=await sn.N.from("supplement_tracking").insert({took_supplements:"yes"===a,date:(new Date).toISOString(),user_id:e.id});if(t)throw t;n({title:"Recorded successfully",description:"Your supplement intake has been tracked."}),s("")}catch(e){console.error("Error tracking supplements:",e),n({title:"Error",description:"Failed to save. Please try again.",variant:"destructive"})}},className:Jn,disabled:!a,size:"lg",children:"Save Response"})]})]})})}),(0,j.jsx)(c.Zp,{className:On,children:(0,j.jsx)("div",{className:Un,children:(0,j.jsx)(yn,{})})})]})})},qn=()=>(0,j.jsxs)(i.BV,{children:[(0,j.jsx)(i.qh,{index:!0,element:(0,j.jsx)(an,{})}),(0,j.jsx)(i.qh,{path:"journal",element:(0,j.jsx)(Wn,{})})]})},4389:(e,a,s)=>{s.r(a),s.d(a,{default:()=>R,refreshToken:()=>M,verifyToken:()=>E});var t=s(9379),n=s(5043),r=s(9722),l=s(2134),i=s(9258),c=s(7808),o=s(9732),d=s(3216),_=s(8729),m=s(3488);const h="Login_container__-h4N5",p="Login_formContainer__eWHMJ",u="Login_headerSection__P6udn",g="Login_title__j9SaB",x="Login_subtitle__f4P9l",j="Login_form__5n2LA",v="Login_inputGroup__BQXkc",N="Login_label__1UlG-",f="Login_inputWrapper__DKlPc",y="Login_inputIcon__uZHXh",b="Login_input__4w1AH",S="Login_inputError__ghr40",A="Login_errorText__1YPw1",w="Login_passwordToggle__kzo8p",C="Login_passwordToggleIcon__2tSSR",k="Login_optionsGroup__DMdp2",I="Login_rememberMe__WfMTF",P="Login_checkbox__gY4zw",T="Login_forgotPassword__aI5dX",H="Login_submitButton__JP6I9",L="Login_submitError__1sN8M",G="Login_signupPrompt__6BtsW",D="Login_signupLink__kqy0K";var B=s(579);const E=async e=>{try{return(await r.A.post("".concat(m.A,"/api/v1/auth/token/verify/"),{token:e})).data}catch(t){var a,s;throw new Error((null===(a=t.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Token verification failed.")}},M=async e=>{try{return(await r.A.post("".concat(m.A,"/api/v1/auth/token/refresh/"),{refresh:e})).data}catch(t){var a,s;throw new Error((null===(a=t.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Token refresh failed.")}},R=()=>{const[e,a]=(0,n.useState)({email:"",password:""}),[s,R]=(0,n.useState)({}),[F,z]=(0,n.useState)(!1),[X,J]=(0,n.useState)(!1),O=(0,d.Zp)(),{login:U}=(0,_.A)(),W=e=>{const{name:n,value:r}=e.target;a((e=>(0,t.A)((0,t.A)({},e),{},{[n]:r}))),s[n]&&R((e=>(0,t.A)((0,t.A)({},e),{},{[n]:""})))};return(0,B.jsx)("div",{className:h,children:(0,B.jsxs)("div",{className:p,children:[(0,B.jsxs)("div",{className:u,children:[(0,B.jsx)("h1",{className:g,children:"Welcome"}),(0,B.jsx)("p",{className:x,children:"Please enter your details to sign in"})]}),(0,B.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),(()=>{const a={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(a.email="Please enter a valid email address"):a.email="Email is required",e.password?e.password.length<5&&(a.password="Password must be at least 5 characters"):a.password="Password is required",R(a),0===Object.keys(a).length})()){J(!0);try{const a=await r.A.post("".concat(m.A,"/api/v1/auth/login/"),{email:e.email,password:e.password}),{access:s,refresh:t}=a.data;localStorage.setItem("accessToken",s),localStorage.setItem("refreshToken",t),U({token:s,refreshToken:t,email:e.email});try{await E(s)}catch(n){console.error("Token verification error:",n)}try{const e=await M(t);e.access&&localStorage.setItem("accessToken",e.access)}catch(l){console.error("Token refresh error:",l)}O("/dashboard")}catch(i){var s,t;R({submit:(null===(s=i.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"username/password is incorrect"})}finally{J(!1)}}},className:j,children:[(0,B.jsxs)("div",{className:v,children:[(0,B.jsx)("label",{className:N,htmlFor:"email",children:"Email"}),(0,B.jsxs)("div",{className:f,children:[(0,B.jsx)(l.A,{className:y}),(0,B.jsx)("input",{id:"email",type:"email",name:"email",value:e.email,onChange:W,placeholder:"Enter your email",className:"".concat(b," ").concat(s.email?S:""),disabled:X})]}),s.email&&(0,B.jsx)("span",{className:A,children:s.email})]}),(0,B.jsxs)("div",{className:v,children:[(0,B.jsx)("label",{className:N,htmlFor:"password",children:"Password"}),(0,B.jsxs)("div",{className:f,children:[(0,B.jsx)(i.A,{className:y}),(0,B.jsx)("input",{id:"password",type:F?"text":"password",name:"password",value:e.password,onChange:W,placeholder:"Enter your password",className:"".concat(b," ").concat(s.password?S:""),disabled:X}),(0,B.jsx)("button",{type:"button",className:w,onClick:()=>z(!F),children:F?(0,B.jsx)(c.A,{className:C}):(0,B.jsx)(o.A,{className:C})})]}),s.password&&(0,B.jsx)("span",{className:A,children:s.password})]}),(0,B.jsxs)("div",{className:k,children:[(0,B.jsxs)("div",{className:I,children:[(0,B.jsx)("input",{type:"checkbox",id:"remember",className:P}),(0,B.jsx)("label",{htmlFor:"remember",children:"Remember me"})]}),(0,B.jsx)("a",{href:"#",className:T,children:"Forgot password?"})]}),s.submit&&(0,B.jsx)("div",{className:L,children:s.submit}),(0,B.jsx)("button",{type:"submit",className:H,disabled:X,children:X?"Signing in...":"Sign in"}),(0,B.jsxs)("p",{className:G,children:["Don't have an account?"," ",(0,B.jsx)("a",{href:"/input",className:D,children:"Sign up"})]})]})]})})}}}]);
//# sourceMappingURL=362.d1c3d37a.chunk.js.map